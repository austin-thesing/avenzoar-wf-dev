<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wave Dots Background - Test</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        background: #ffffff;
        color: #1a1a1a;
        overflow-x: hidden;
      }

      .hero-section {
        position: relative;
        width: 100%;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        background: #1a1f2e; /* Dark navy background like Avenzoar site */
        color: #ffffff;
      }

      .wave-dots-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
      }

      .hero-content {
        position: relative;
        z-index: 1;
        text-align: center;
        padding: 2rem;
        max-width: 800px;
      }

      h1 {
        font-size: 4rem;
        font-weight: 700;
        margin-bottom: 1rem;
        line-height: 1.2;
      }

      p {
        font-size: 1.5rem;
        opacity: 0.8;
        margin-bottom: 2rem;
      }

      .controls {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(255, 255, 255, 0.95);
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        z-index: 100;
        max-width: 300px;
      }

      .controls h3 {
        margin-bottom: 15px;
        font-size: 1rem;
        font-weight: 600;
      }

      .control-group {
        margin-bottom: 15px;
      }

      .control-group label {
        display: block;
        font-size: 0.875rem;
        margin-bottom: 5px;
        color: #666;
      }

      .control-group input[type="range"],
      .control-group input[type="color"] {
        width: 100%;
      }

      .control-group input[type="number"] {
        width: 100%;
        padding: 5px;
        border: 1px solid #ddd;
        border-radius: 4px;
      }

      .value-display {
        display: inline-block;
        margin-left: 10px;
        font-weight: 600;
        color: #5b3399;
      }

      button {
        width: 100%;
        padding: 10px;
        background: #5b3399;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.875rem;
        font-weight: 600;
        margin-top: 10px;
      }

      button:hover {
        background: #4a2a7a;
      }

      .section {
        padding: 100px 20px;
        text-align: center;
      }

      .section:nth-child(even) {
        background: #f5f5f5;
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 2.5rem;
        }

        p {
          font-size: 1.125rem;
        }

        .controls {
          position: static;
          margin: 20px;
          max-width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <!-- Hero Section with Wave Dots Background -->
    <section class="hero-section">
      <div class="wave-dots-bg" data-dot-opacity="0.4" data-dot-color="#050a14" data-wave-speed="0.1" data-dot-spacing="35" data-height="100"></div>
      <div class="hero-content">
        <h1>Wave Dots Background</h1>
        <p>A dynamic dot-grid animation with undulating wave motion</p>
      </div>
    </section>

    <!-- Controls Panel -->
    <div class="controls">
      <h3>Animation Controls</h3>

      <div class="control-group">
        <label> Dot Opacity: <span class="value-display" id="opacity-value">0.25</span> </label>
        <input type="range" id="opacity-control" min="0" max="1" step="0.05" value="0.25" />
      </div>

      <div class="control-group">
        <label> Wave Speed: <span class="value-display" id="speed-value">0.2</span> </label>
        <input type="range" id="speed-control" min="0" max="2" step="0.1" value="0.2" />
      </div>

      <div class="control-group">
        <label> Dot Spacing: <span class="value-display" id="spacing-value">30</span> </label>
        <input type="range" id="spacing-control" min="10" max="50" step="2" value="30" />
      </div>

      <div class="control-group">
        <label> Height %: <span class="value-display" id="height-value">100</span> </label>
        <input type="range" id="height-control" min="30" max="100" step="5" value="100" />
      </div>

      <div class="control-group">
        <label>Dot Color:</label>
        <input type="color" id="color-control" value="#ffffff" />
      </div>

      <button id="apply-changes">Apply Changes</button>
      <button id="reset-defaults">Reset to Defaults</button>
    </div>

    <!-- Additional Content Sections -->
    <section class="section">
      <h2>Scroll to See More</h2>
      <p>The wave animation continues smoothly as you scroll.</p>
    </section>

    <section class="section">
      <h2>Configurable Options</h2>
      <p>Control dot opacity, color, wave speed, and spacing via data attributes.</p>
    </section>

    <section class="section">
      <h2>Performance Optimized</h2>
      <p>Canvas 2D rendering with mobile optimizations for smooth 60fps animation.</p>
    </section>

    <!-- GSAP Library -->
    <script src="scripts/gsap.min.js"></script>

    <!-- Wave Dots Animation -->
    <script src="src/wave-dots.js"></script>

    <!-- Controls Script -->
    <script>
      // Interactive controls for testing
      const container = document.querySelector(".wave-dots-bg");
      const opacityControl = document.getElementById("opacity-control");
      const speedControl = document.getElementById("speed-control");
      const spacingControl = document.getElementById("spacing-control");
      const heightControl = document.getElementById("height-control");
      const colorControl = document.getElementById("color-control");
      const applyButton = document.getElementById("apply-changes");
      const resetButton = document.getElementById("reset-defaults");

      // Load saved settings from localStorage
      const savedSettings = localStorage.getItem("waveDots_settings");
      if (savedSettings) {
        const settings = JSON.parse(savedSettings);
        opacityControl.value = settings.opacity;
        speedControl.value = settings.speed;
        spacingControl.value = settings.spacing;
        heightControl.value = settings.height;
        colorControl.value = settings.color;

        document.getElementById("opacity-value").textContent = settings.opacity;
        document.getElementById("speed-value").textContent = settings.speed;
        document.getElementById("spacing-value").textContent = settings.spacing;
        document.getElementById("height-value").textContent = settings.height;

        // Apply saved settings to container
        container.dataset.dotOpacity = settings.opacity;
        container.dataset.waveSpeed = settings.speed;
        container.dataset.dotSpacing = settings.spacing;
        container.dataset.height = settings.height;
        container.dataset.dotColor = settings.color;
      }

      // Update value displays
      opacityControl.addEventListener("input", (e) => {
        document.getElementById("opacity-value").textContent = e.target.value;
      });

      speedControl.addEventListener("input", (e) => {
        document.getElementById("speed-value").textContent = e.target.value;
      });

      spacingControl.addEventListener("input", (e) => {
        document.getElementById("spacing-value").textContent = e.target.value;
      });

      heightControl.addEventListener("input", (e) => {
        document.getElementById("height-value").textContent = e.target.value;
      });

      // Apply changes (saves to localStorage and reloads)
      applyButton.addEventListener("click", () => {
        // Save settings to localStorage
        const settings = {
          opacity: opacityControl.value,
          speed: speedControl.value,
          spacing: spacingControl.value,
          height: heightControl.value,
          color: colorControl.value,
        };
        localStorage.setItem("waveDots_settings", JSON.stringify(settings));

        // Update data attributes
        container.dataset.dotOpacity = settings.opacity;
        container.dataset.waveSpeed = settings.speed;
        container.dataset.dotSpacing = settings.spacing;
        container.dataset.height = settings.height;
        container.dataset.dotColor = settings.color;

        // Reload to apply changes
        window.location.reload();
      });

      // Reset to defaults
      resetButton.addEventListener("click", () => {
        // Clear saved settings
        localStorage.removeItem("waveDots_settings");

        // Reset to defaults
        opacityControl.value = 0.25;
        speedControl.value = 0.2;
        spacingControl.value = 30;
        heightControl.value = 100;
        colorControl.value = "#ffffff";

        document.getElementById("opacity-value").textContent = "0.15";
        document.getElementById("speed-value").textContent = "0.2";
        document.getElementById("spacing-value").textContent = "30";
        document.getElementById("height-value").textContent = "100";

        // Reload with defaults
        window.location.reload();
      });

      // The WaveDotsAnimation class is available through the animation instance
      // stored on the container element
    </script>
  </body>
</html>
