(()=>{if("undefined"==typeof window)return;if("undefined"==typeof gsap)return void console.error("GSAP is required for stat-circles animation");if("undefined"==typeof ScrollTrigger)return void console.error("ScrollTrigger plugin is required for stat-circles animation");gsap.registerPlugin(ScrollTrigger);const t=()=>{if(document.body.dataset.statCirclesInitialized)return;document.body.dataset.statCirclesInitialized="true";let t=document.querySelector('[data-attr="stat-circles"]'),e={};t?e={staggerAmount:parseFloat(t.dataset.staggerAmount)||.15,duration:parseFloat(t.dataset.duration)||.8,startTrigger:t.dataset.startTrigger||"top 80%",ease:t.dataset.ease||"power2.out"}:(t=document.body,e={staggerAmount:.15,duration:.8,startTrigger:"top 80%",ease:"power2.out"});const r=Array.from(document.querySelectorAll(".stat-row"));r.length>0||r.push(t),r.forEach(t=>{const r=Array.from(t.querySelectorAll(".stat-circle-wrap svg rect[rx], .stat-circles-container svg rect[rx]")),o=Array.from(t.querySelectorAll(".stat-title:not(.after)"));Array.from(t.querySelectorAll(".stat-row-col"));if(0===r.length&&0===o.length)return;r.length>0&&gsap.set(r,{opacity:0,scale:.8,transformOrigin:"center center"}),o.length>0&&gsap.set(o,{opacity:0});const a=gsap.timeline({scrollTrigger:{trigger:t,start:e.startTrigger,toggleActions:"play none none none",once:!0}});if(r.length>0&&a.to(r,{opacity:1,scale:1,duration:e.duration,ease:e.ease,stagger:{amount:e.staggerAmount,from:"start"}},0),o.length>0){const t=[];o.forEach(e=>{const r=e.querySelector(".stat-number")||e,o=r.textContent,{value:a,suffix:n}=(t=>{if(!t)return{value:0,suffix:"",prefix:""};const e=t.trim(),r=e.match(/^(\d+(?:\.\d+)?)(.*?)$/);return r?{value:parseFloat(r[1]),suffix:r[2],prefix:""}:{value:0,suffix:e,prefix:""}})(o);if(a>0){r.textContent="0"+n;const e=((t,e,r)=>{const o={value:0};return{target:o,props:{value:e,ease:"power2.out",onUpdate:()=>{const e=Math.round(o.value);t.textContent=e+r}}}})(r,a,n);t.push(e)}}),a.to(o,{opacity:1,duration:.5*e.duration,stagger:{amount:e.staggerAmount,from:"start"}},0),t.forEach((r,o)=>{a.to(r.target,{...r.props,duration:e.duration},o*(e.staggerAmount/t.length))})}}),0===r.length&&console.warn("No .stat-row or .stat-circle-wrap elements found")};"complete"===document.readyState||"interactive"===document.readyState?requestAnimationFrame(t):document.addEventListener("DOMContentLoaded",t,{once:!0})})();