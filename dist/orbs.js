(()=>{if("undefined"==typeof window)return;const e=window.matchMedia("(max-width: 768px)").matches||/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),t=e?25:120,n=[1,3],a=e?[15,40]:[30,80],r=e?[30,60]:[20,45],o=[8,18],i=(e,i,s,d)=>{const l=document.createElement("div");l.className="floating-orb";const p=gsap.utils.random(n[0],n[1],.1,!1);Object.assign(l.style,{position:"absolute",width:`${p}px`,height:`${p}px`,borderRadius:"50%",background:"white",filter:"blur(0px)",opacity:gsap.utils.random(.15,.4),mixBlendMode:"normal",transformOrigin:"50% 50%"}),e.appendChild(l);const u=Math.min(i.width,window.innerWidth),c=s/(t-1)*i.height,g=u*gsap.utils.random(.05,.95),m=c+gsap.utils.random(-200,200);gsap.set(l,{x:g-p/2,y:m-p/2,scale:1}),d.push({el:l,x:g,y:m,size:p,currentX:0,currentY:0,repelX:0,repelY:0});const h=gsap.utils.random(a[0],a[1]),y=gsap.utils.random(a[0],a[1]),v=gsap.utils.random(a[0],a[1]),w=gsap.utils.random(a[0],a[1]),f=d[d.length-1],b=gsap.timeline({repeat:-1}),x=g-p/2+gsap.utils.random(-h,h,1,!1),X=m-p/2+gsap.utils.random(-y,y,1,!1),Y=x+gsap.utils.random(-v,v,1,!1),M=X+gsap.utils.random(-w,w,1,!1);b.to(l,{x:x,y:X,duration:gsap.utils.random(r[0],r[1]),ease:"power1.inOut",onUpdate:()=>{f.currentX=gsap.getProperty(l,"x"),f.currentY=gsap.getProperty(l,"y")}}).to(l,{x:Y,y:M,duration:gsap.utils.random(r[0],r[1]),ease:"power1.inOut",onUpdate:()=>{f.currentX=gsap.getProperty(l,"x"),f.currentY=gsap.getProperty(l,"y")}}).to(l,{x:g-p/2,y:m-p/2,duration:gsap.utils.random(r[0],r[1]),ease:"power1.inOut",onUpdate:()=>{f.currentX=gsap.getProperty(l,"x"),f.currentY=gsap.getProperty(l,"y")}}),gsap.to(l,{opacity:gsap.utils.random(.05,.35),duration:gsap.utils.random(o[0],o[1]),ease:"sine.inOut",repeat:-1,yoyo:!0}),gsap.to(l,{scale:gsap.utils.random(.95,1.05),duration:gsap.utils.random(o[0],o[1]),ease:"sine.inOut",repeat:-1,yoyo:!0,delay:gsap.utils.random(0,4)})},s=n=>{if(!n||n.dataset.orbsInitialized)return;if("undefined"==typeof gsap)return;n.dataset.orbsInitialized="true";"static"===getComputedStyle(n).position&&(n.style.position="relative");const a=document.createElement("div");a.className="floating-orbs-layer",Object.assign(a.style,{position:"absolute",inset:"0",overflow:"hidden",pointerEvents:"none",zIndex:"0",maxWidth:"100vw"}),n.prepend(a);let r=[];const o=()=>{a.innerHTML="",r=[];const e=n.getBoundingClientRect();if(e.width&&e.height)for(let n=0;n<t;n+=1)i(a,e,n,r)};let s=-9999,d=-9999,l=null;const p=e=>{const t=n.getBoundingClientRect();s=e.clientX-t.left+n.scrollLeft,d=e.clientY-t.top+n.scrollTop},u=()=>{s=-9999,d=-9999},c=()=>{r.forEach(e=>{const t=gsap.getProperty(e.el,"x"),n=gsap.getProperty(e.el,"y"),a=("number"==typeof t?t:e.currentX)+e.size/2,r=("number"==typeof n?n:e.currentY)+e.size/2,o=a-s,i=r-d,l=Math.sqrt(o*o+i*i);if(l<80&&l>0){const t=25*(1-l/80),n=Math.atan2(i,o),a=Math.cos(n)*t,r=Math.sin(n)*t;(Math.abs(a-e.repelX)>.1||Math.abs(r-e.repelY)>.1)&&(e.repelX=a,e.repelY=r,e.currentX+=.1*e.repelX,e.currentY+=.1*e.repelY,gsap.to(e.el,{x:e.currentX,y:e.currentY,duration:.15,ease:"power2.out",overwrite:"auto"}))}else 0===e.repelX&&0===e.repelY||(e.repelX=0,e.repelY=0)}),l=requestAnimationFrame(c)};e||(n.addEventListener("mousemove",p),n.addEventListener("mouseleave",u),l=requestAnimationFrame(c));const g=n.getBoundingClientRect();let m=g.width,h=g.height,y=null;o();const v=new ResizeObserver(()=>{const e=n.getBoundingClientRect(),t=Math.abs(e.width-m),a=Math.abs(e.height-h);(t>50||a>50)&&(y&&clearTimeout(y),y=setTimeout(()=>{m=e.width,h=e.height,o()},300))});v.observe(n),n.addEventListener("animationcleanup",()=>{y&&clearTimeout(y),l&&cancelAnimationFrame(l),e||(n.removeEventListener("mousemove",p),n.removeEventListener("mouseleave",u)),v.disconnect(),a.remove(),delete n.dataset.orbsInitialized},{once:!0})},d=()=>{document.querySelectorAll(".main-wrapper").forEach(s)};"complete"===document.readyState||"interactive"===document.readyState?requestAnimationFrame(d):document.addEventListener("DOMContentLoaded",d,{once:!0})})();